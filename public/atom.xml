<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Open Open Source]]></title>
  <link href="http://darthbeep.github.io/atom.xml" rel="self"/>
  <link href="http://darthbeep.github.io/"/>
  <updated>2019-06-23T01:03:42-04:00</updated>
  <id>http://darthbeep.github.io/</id>
  <author>
    <name><![CDATA[Shaina Peters]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How Do Linux Gestures Work? Part I: Before You Install]]></title>
    <link href="http://darthbeep.github.io/blog/2019/06/22/how-do-linux-gestures-work-part-i-before-you-install/"/>
    <updated>2019-06-22T23:52:26-04:00</updated>
    <id>http://darthbeep.github.io/blog/2019/06/22/how-do-linux-gestures-work-part-i-before-you-install</id>
    <content type="html"><![CDATA[<p>Compared to other operating systems, the gesture support in Linux is known to be lacking. There are multiple ways to fix this, with varying degrees of complexity, but the one I am going to be talking about is <a href="https://github.com/bulletmark/libinput-gestures" title="libinput-gestures">libinput gestures</a>. Though the tutorial in the repo&rsquo;s readme will tell you how to install gestures, it wont tell you what goes on behind the scenes. The goal of this blog  is twofold. Firstly, the goal is to explain how gestures work, going into the code to tell you everything that happens. But the goal is also to look at code in various parts of a repo and explain them in depth, so that everything can be understood and learned from. This entry won&rsquo;t go into the actual gesture code, what happens before you type <code>$ make install</code>.</p>

<p>No matter where you go to do your gestures, you’ll encounter the same command before you start:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$sudo</span> gpasswd -a <span class="nv">$USER</span> input
</span></code></pre></td></tr></table></div></figure>


<p>To understand this command, first, you need to understand groups. Though they are commonly come across, they don’t get much attention. If you <code>chmod</code> a file to 764, you’re saying that the group is given permissions associated with 6 (reading and writing). The middle 3 characters when you use <code>$ ls -l</code> say the permissions the file’s group has when modifying it. Every file has not just a user who can access it, but a group. While said group is often just the user, that’s not always the case. In this case, we’re dealing with a series of files that can only be accessed by the group input.</p>

<p>The command gpasswd is used when administrating groups. The argument <code>-a</code> adds a user to a group. So <code>$ gpasswd -a $USER input</code> adds <code>$USER</code> (which is your username) to the group input. This is important because the group input has access to the files <code>/dev/input/event*</code> (as well as <code>/dev/input/mouse*</code>, though this is less important for gestures). So what is the point of this?</p>

<p>You may have heard the saying “In Linux, everything is a file.” Well, that includes input devices. And if you&rsquo;re going to treat physical files like devices, you need to include that actual files for the devices. These are said files. These files, whose type is character files, are essentially pipes between physical inputs and what the computer receives. Although they are simply labeled event followed by a number, running the command <code>$ xinput list</code> will tell you exactly which event pipe corresponds with which device. In this particular case, the only file necessary is the one for the trackpad.</p>

<p>Now that you&rsquo;re allowing the user access to the input devices, you can actually install libinput gestures. Immediately running <code>$ make install</code> is the easiest way to set up gestures, but that is neither the only way to set up functions nor the only way to use the makefile. Starting with the latter, the makefile includes <code>make all</code>, which tells you to run <code>make install</code> or <code>make uninstall</code>, which run the install script that will be covered next entry, and <code>make clean</code>, which cleans. The makefile also includes two more slightly more interesting rules, which I&rsquo;m going to discuss in detail because their code is interesting. The first, <code>make doc</code>, is as follows (including all of the relevant code but leaving out everything else):</p>

<figure class='code'><figcaption><span>Makefile </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='make'><span class='line'><span class="nv">DOC</span> <span class="o">=</span> README.md
</span><span class='line'><span class="nv">DOCOUT</span> <span class="o">=</span> <span class="k">$(</span>DOC:.md<span class="o">=</span>.html<span class="k">)</span>
</span><span class='line'>
</span><span class='line'><span class="nf">doc</span><span class="o">:</span> <span class="k">$(</span><span class="nv">DOCOUT</span><span class="k">)</span>
</span><span class='line'>
</span><span class='line'><span class="nf">$(DOCOUT)</span><span class="o">:</span> <span class="k">$(</span><span class="nv">DOC</span><span class="k">)</span>
</span><span class='line'>  markdown <span class="nv">$&lt;</span> &gt;<span class="nv">$@</span>
</span></code></pre></td></tr></table></div></figure>


<p>The interesting part of this command comes not from the content, but the presentation. But what it actually does is fairly simple. The command markdown converts a text file to html. The make variable <code>$&lt;</code> gives the name of the first prerequisite, in this case <code>$(DOC)</code>, which is defined earlier as <code>README.md</code>. The second variable, <code>&gt;$@</code>, is a little more complex. Any variable prefixed with <code>&gt;</code> means that if it involves a file, that file will be overridden, rather than appended to. And <code>$@</code> takes in the target of the rule, in this case <code>$(DOCOUT)</code>. <code>$(DOCOUT)</code> takes in <code>$(DOC)</code> (still <code>README.md</code>) and performs a substitution reference on it, substituting .md for .html. So essentially <code>$(DOCOUT)</code> is equivalent to <code>README.html</code>. Put together, all of this means convert to markdown README.md, outputting with override to the file <code>README.html</code>. Or, in simplest terms, converting the README from markdown to html.</p>

<p>The second rule, <code>make check</code> is less stylish or hard to read, but it&rsquo;s no less interesting. Instead, its uniqueness comes from its content. The rule is as follows:</p>

<figure class='code'><figcaption><span>Makefile </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='make'><span class='line'><span class="nv">SHELLCHECK_OPTS</span> <span class="o">=</span> -eSC2053,SC2064,SC2086,SC1117,SC2162,SC2181,SC2034,SC1090,SC2115
</span><span class='line'>
</span><span class='line'><span class="nf">check</span><span class="o">:</span>
</span><span class='line'>  flake8 libinput-gestures
</span><span class='line'>  shellcheck <span class="k">$(</span>SHELLCHECK_OPTS<span class="k">)</span> libinput-gestures-setup list-version-hashes
</span></code></pre></td></tr></table></div></figure>


<p>This is pretty standard make. The interesting part comes with the make code. The first line  just does exactly what it says, running the command <code>$ flake8 libinput-gestures</code>. <code>flake8</code> is a command that tests for proper conventions in python code. This check fails, as line 533 is longer than 80 characters. I don&rsquo;t know why the developers included a check if they don&rsquo;t intend to use it themselves, but if anyone is looking for an easy pull request, they can have one. The second line is similar in that it checks shell scripts for errors and bad code, though it differs in that the code passes the check. It also includes an argument <code>-e</code> which tells it to exclude the errors corresponding to the codes listed after it. In short, the allowed forms of bad code are redundant logic, double double quotation marks, not double quoting expanding variables, using <code>\n</code> rather than <code>\\n</code>, using read without <code>-r</code>, running then checking exit status in two steps, unused variables, not using a directive to specify the location of a source file with a variable location, and not checking to make sure a path variable isn&rsquo;t empty. The conclusion that can be drawn from this is shellcheck has a lot of different types of errors. I&rsquo;m not sure if this is intentional or laziness, though there are a lot of fixable errors if shellcheck is run to allow these errors (though some do seem justified in the code).</p>

<p>So which shellcheck errors are justified? And what happens after you actually type make install? How does libinput gestures actually work? Find out next time on the next post of my blog.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My first post]]></title>
    <link href="http://darthbeep.github.io/blog/2019/05/25/my-first-post/"/>
    <updated>2019-05-25T19:54:53-04:00</updated>
    <id>http://darthbeep.github.io/blog/2019/05/25/my-first-post</id>
    <content type="html"><![CDATA[<p>I&rsquo;m testing a post.</p>

<p>Testity testity test.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Intro]]></title>
    <link href="http://darthbeep.github.io/blog/2012/07/22/intro/"/>
    <updated>2012-07-22T08:23:00-04:00</updated>
    <id>http://darthbeep.github.io/blog/2012/07/22/intro</id>
    <content type="html"><![CDATA[<p>Testing!</p>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sollicitudin, massa eu vestibulum laoreet, nibh ante vulputate lorem, ac lobortis ante tellus eu mi. Duis sem nisi, luctus at feugiat eget, fringilla ut tellus. Nam a molestie justo. Sed pulvinar est vitae tellus semper tincidunt. Fusce euismod luctus lacus nec placerat. Mauris rutrum scelerisque nulla ut tempor. Nunc porttitor posuere mi, aliquet vehicula lorem feugiat in. Ut ut fermentum risus. Aliquam tincidunt ultricies ante sit amet bibendum. Cras nec sapien odio. Duis posuere congue sem, at congue massa faucibus at.</p>

<p>Integer ut sapien eget nisl auctor faucibus ut fermentum arcu. Nunc rutrum urna non risus congue et tristique felis eleifend. Maecenas blandit est eu mauris aliquam aliquet. Quisque porttitor enim eget risus blandit in mollis orci eleifend. Nam malesuada nulla sed lacus elementum placerat accumsan arcu rhoncus. Phasellus feugiat cursus turpis nec facilisis. Duis eget metus arcu, eget commodo velit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Integer cursus vulputate enim, vel gravida velit faucibus et. Ut a urna vitae tellus cursus rhoncus. Maecenas at odio eget quam cursus elementum. Aliquam vitae eros quis tellus laoreet accumsan sed id lorem. Suspendisse et rutrum leo. Integer scelerisque vestibulum adipiscing. In posuere, libero ac accumsan suscipit, nulla ligula gravida erat, ut tempor odio erat nec sem. Quisque justo ipsum, adipiscing volutpat varius vitae, blandit eget nisi.</p>

<p>Nullam adipiscing neque ac lacus commodo vitae imperdiet dui sollicitudin. Ut ac nunc augue. Nam at sem ut quam commodo aliquet vitae vitae dui. Vivamus scelerisque felis eget dolor cursus feugiat. Phasellus at dui sed lectus scelerisque pretium. Etiam nec massa ut justo vestibulum fringilla ac vitae urna. Morbi tortor erat, tempus sed consectetur at, elementum nec eros. Vivamus mattis arcu a sapien semper non lacinia eros pretium.</p>

<p>Proin ut hendrerit arcu. Maecenas ullamcorper tristique magna vel mattis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nullam tincidunt euismod viverra. In sit amet neque turpis. Suspendisse ac sapien mi, id blandit purus. Ut tortor turpis, rutrum ac tempor at, accumsan sit amet erat. Etiam ultricies eleifend dolor, eget tempus justo tristique vitae. In hac habitasse platea dictumst. Aliquam eu enim neque.</p>

<p>Morbi massa lorem, viverra non dictum at, malesuada vel nibh. Nam fermentum lobortis varius. Sed a nulla lacus, quis posuere risus. Nunc id urna libero, quis rutrum mi. In gravida felis urna. Praesent nec dolor ac urna tempor fermentum. Curabitur rutrum arcu et lorem volutpat viverra.</p>
]]></content>
  </entry>
  
</feed>
